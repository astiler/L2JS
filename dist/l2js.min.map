{"version":3,"file":"dist/env.min.js","sources":["dist/env.js"],"names":["global","factory","module","exports","this","window","_l2js","l2js","options","keepDerivations","maxDerivedSymbols","files","core","Promise","deferred","prototype","then","successCallback","errorCallback","result","q","promise","catch","Deferred","reject","reason","resolve","value","decimalAdjust","type","exp","Math","isNaN","NaN","toString","split","round10","floor10","ceil10","utils","copy","obj","isUndefined","out","constructor","key","hasProp","hasOwnProperty","extend","child","parent","call","ctor","__super__","indexOf","arr","item","i","length","v","isFunction","functionToCheck","getType","toUpperFirstLetter","string","charAt","toUpperCase","slice","padLeft","str","padChar","normalizeAngle","angle","interval","HSVToRGB","color","h","s","C","X","abs","m","rgb_","r","g","b","model","a","RGBToInt","norm","c","rgba","colorToHexString","colorInt","hexStringToInt","parseInt","hexStrAlpha","round","hex","substring","compiler","env","Alphabet","id","symbols","hasSymbol","symbol","SubLSystem","ctx","lsystem","axiom","maxIterations","maxIteration","undefined","derive","lsystemInst","derivation","interpretation","Stack","start","end","LSystem","opts","rulesProbabilities","checkAlphabetSymbol","arguments","max","totalIterations","derivations","interpretations","deriveString","push","ancestor","successor","j","Error","stats","numberOfDerivedSymbols","concat","findDerivation","toDerive","ruleType","hash","makeHash","rules","rule","probability","threshold","random","sum","apply","args","params","getModule","alphabet","getParamModule","LScript","der","main","SubLScript","lscript","setTimeout","eval","lsystemCode","err","compile","code","Compiler","interpretAll","interpret","Interpret","all","format","errHandler","ast","toAST","l2","ASTToL2","e","evolve","numberOfIndividuals","scripts","lsystems","asts","evaluation","evolver","Evolver"],"mappings":"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"}