{"version":3,"file":"dist/env.min.js","sources":["dist/env.js"],"names":["global","factory","module","exports","this","window","_l2js","l2js","options","keepDerivations","maxDerivedSymbols","files","core","Promise","deferred","prototype","then","successCallback","errorCallback","result","q","promise","catch","Deferred","reject","reason","resolve","value","decimalAdjust","type","exp","Math","isNaN","NaN","toString","split","round10","floor10","ceil10","utils","copy","obj","isUndefined","out","constructor","key","hasProp","hasOwnProperty","extend","child","parent","call","ctor","__super__","indexOf","arr","item","i","length","v","isFunction","functionToCheck","getType","toUpperFirstLetter","string","charAt","toUpperCase","slice","padLeft","str","padChar","normalizeAngle","angle","interval","HSVToRGB","color","h","s","r","g","b","floor","f","p","t","model","a","RGBToInt","norm","c","rgba","colorToHexString","colorInt","hexStringToInt","parseInt","hexStrAlpha","round","hex","substring","compiler","env","Alphabet","id","symbols","hasSymbol","symbol","SubLSystem","ctx","lsystem","axiom","maxIterations","maxIteration","undefined","derive","lsystemInst","derivation","interpretation","Stack","start","end","LSystem","opts","rulesProbabilities","checkAlphabetSymbol","arguments","max","totalIterations","derivations","interpretations","deriveString","push","ancestor","successor","j","Error","stats","numberOfDerivedSymbols","concat","findDerivation","toDerive","ruleType","hash","makeHash","rules","rule","probability","threshold","random","sum","apply","args","params","getModule","alphabet","getParamModule","LScript","der","main","SubLScript","lscript","setTimeout","eval","lsystemCode","err","compile","code","Compiler","interpretAll","interpret","Interpret","all","format","errHandler","ast","toAST","l2","ASTToL2","e","evolve","numberOfIndividuals","scripts","lsystems","asts","evaluation","evolver","Evolver"],"mappings":"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"}