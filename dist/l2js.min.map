{"version":3,"file":"dist/env.min.js","sources":["dist/env.js"],"names":["global","factory","module","exports","this","window","_l2js","l2js","options","keepDerivations","files","core","Promise","deferred","prototype","then","successCallback","errorCallback","result","q","promise","catch","Deferred","reject","reason","resolve","value","utils","copy","obj","isUndefined","out","constructor","key","hasProp","hasOwnProperty","extend","child","parent","call","ctor","__super__","indexOf","arr","item","i","length","v","isFunction","functionToCheck","getType","toString","toUpperFirstLetter","string","charAt","toUpperCase","slice","padLeft","str","padChar","compiler","env","Alphabet","id","symbols","type","hasSymbol","symbol","SubLSystem","ctx","lsystem","axiom","maxIterations","maxIteration","undefined","derive","lsystemInst","derivation","interpretation","Stack","start","end","LSystem","opts","rulesProbabilities","checkAlphabetSymbol","arguments","max","totalIterations","derivations","interpretations","deriveString","push","ancestor","successor","j","Error","concat","findDerivation","toDerive","ruleType","hash","makeHash","rules","rule","probability","threshold","Math","random","sum","apply","args","params","getModule","alphabet","getParamModule","LScript","der","main","SubLScript","lscript","setTimeout","eval","lsystemCode","err","compile","code","Compiler","interpretAll","t1","Date","getTime","interpret","Interpret","all","console","log","format","errHandler","toAST","ast","ASTToL2","l2","e","mutate"],"mappings":";CASC,SAAUA,EAAQC,GAAW,YACN,iBAAXC,SAAiD,gBAAnBA,QAAOC,QAChDF,EAASD,GAAQ,GAEjBC,EAASD,IAETI,KAAM,SAAUC,QAElB,GAAIC,OAAQC,KACRA,KAAOF,OAAOE,KAAOF,OAAOE,OAASF,OAAOE,QAEhDA,MAAKC,SAAWC,iBAAiB,GACjCJ,OAAOE,KAAKG,SAOXH,KAAKI,KAAOJ,KAAKI,SAajBJ,KAAKI,KAAKC,QAAU,QAASA,GAAQC,GACpCT,KAAKS,SAAWA,GAGjBN,KAAKI,KAAKC,QAAQE,UAAUC,KAAO,SAASC,EAAiBC,GAM5D,MAJAb,MAAKS,SAASG,gBAAkBA,EAChCZ,KAAKS,SAASI,cAAgBA,EAE9Bb,KAAKc,OAASX,KAAKI,KAAKQ,EAAEN,WACnBT,KAAKc,OAAOE,SAIpBb,KAAKI,KAAKC,QAAQE,UAAUO,MAAQ,SAASJ,GAC5Cb,KAAKS,SAASI,cAAgBA,GAO/BV,KAAKI,KAAKW,SAAW,WACpBlB,KAAKgB,QAAU,GAAIb,MAAKI,KAAKC,QAAQR,OAItCG,KAAKI,KAAKW,SAASR,UAAUS,OAAS,SAASC,GAC3CpB,KAAKa,eACPb,KAAKgB,QAAQF,OAAOK,OAAOnB,KAAKa,cAAcO,IAAWA,IAI3DjB,KAAKI,KAAKW,SAASR,UAAUW,QAAU,SAASC,GAC5CtB,KAAKY,iBACPZ,KAAKgB,QAAQF,OAAOO,QAAQrB,KAAKY,gBAAgBU,IAAUA,IAK7DnB,KAAKI,KAAKQ,GAETN,SAAW,WACV,MAAO,IAAIN,MAAKI,KAAKW,WAUvBf,KAAKoB,OACJC,KAAM,SAAUC,GACf,GAAItB,KAAKoB,MAAMG,YAAYD,IAAuB,gBAARA,IAA4B,OAARA,EAC7D,MAAOA,EAGR,IAAIE,GAAM,GAAIF,GAAIG,WAElB,KAAK,GAAIC,KAAOJ,GACfE,EAAIE,GAAO1B,KAAKoB,MAAMC,KAAKC,EAAII,GAEhC,OAAOF,IAGRG,WAAYC,eAGZC,OAAQ,SAAUC,EAAOC,GACxB,IAAK,GAAIL,KAAOK,GACX/B,KAAKoB,MAAMO,QAAQK,KAAKD,EAAQL,KACnCI,EAAMJ,GAAOK,EAAOL,GAEtB,SAASO,KACRpC,KAAK4B,YAAcK,EAOpB,MAHAG,GAAK1B,UAAYwB,EAAOxB,UACxBuB,EAAMvB,UAAY,GAAI0B,GACtBH,EAAMI,UAAYH,EAAOxB,UAClBuB,GAIRK,QAAS,SAAUC,EAAKC,EAAMC,GAC7BA,IAAOA,EAAI,EACX,IAAIC,GAASH,EAAIG,MAGjB,KAFQ,EAAJD,IACHA,EAAIC,EAASD,GACHC,EAAJD,EAAYA,IAClB,GAAIF,EAAIE,KAAOD,EACd,MAAOC,EACT,OAAO,IAGRf,YAAa,SAAUiB,GACtB,MAAoB,mBAANA,IAEfC,WAAW,SAAUC,GACpB,GAAIC,KACJ,OAAOD,IAA8D,sBAA3CC,EAAQC,SAASZ,KAAKU,IAEjDG,mBAAoB,SAAUC,GAC1B,MAAOA,GAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,IAUzDC,QAAS,SAAUC,EAAKC,EAASb,GAE7B,MAAMY,EAAIZ,OAASA,EACfY,EAAMC,EAAUD,CACpB,OAAOA,KAIbnD,KAAKqD,SAAWrD,KAAKqD,aAErBrD,KAAKqD,SAASC,IAAMtD,KAAKqD,SAASC,QAOjCtD,KAAKqD,SAASC,IAAIC,SAAW,WAC5B,QAASA,GAASC,EAAIC,GACrB5D,KAAK2D,GAAKA,EACV3D,KAAK4D,QAAUA,EACf5D,KAAK6D,KAAO,WAab,MAPAH,GAAShD,UAAUoD,UAAY,SAASC,GACvC,MAAK/D,MAAK4D,SAAYG,EAGd/D,KAAK4D,SAAWG,GAAwD,KAA7C5D,KAAKoB,MAAMe,QAAQtC,KAAK4D,QAASG,IAF5D,GAKFL,KAWRvD,KAAKqD,SAASC,IAAIO,WAAa,WAQ9B,QAASA,GAAWC,EAAKC,EAASC,EAAOC,GACxCpE,KAAKiE,IAAMA,EACXjE,KAAKkE,QAAUA,EAEO,gBAAVC,KACXE,aAAeF,EACfA,EAAQG,QAGTtE,KAAKmE,MAAQA,EACbnE,KAAKoE,cAAgBA,EACrBpE,KAAK6D,KAAO,aAyBb,MArBAG,GAAWtD,UAAU6D,OAAS,WAE7B,GAAIzD,EAeJ,OAdKd,MAAKwE,cACTxE,KAAKwE,YAAc,GAAIxE,MAAKkE,QAAQlE,KAAKiE,MAEtCjE,KAAKyE,WACR3D,EAASd,KAAKwE,YAAYD,OAAOvE,KAAKyE,WAAYzE,KAAKoE,gBAEvDtD,EAASd,KAAKwE,YAAYD,OAAOvE,KAAKmE,MAAOnE,KAAKoE,eAClDpE,KAAKmE,MAAQrD,EAAOqD,OAIrBnE,KAAKyE,WAAa3D,EAAO2D,WACzBzE,KAAK0E,eAAiB5D,EAAO4D,eAEtB1E,MAIDgE,KAIT7D,KAAKqD,SAASC,IAAIkB,MAAQ,WAExB,QAASA,GAAMC,EAAOC,EAAK5B,GAC1BjD,KAAK4E,MAAQA,EACb5E,KAAK6E,IAAMA,EACX7E,KAAKiD,OAASA,EACdjD,KAAK6D,KAAO,QAIb,MAAOc,MASRxE,KAAKqD,SAASC,IAAIqB,QAAU,SAAU3E,GAErC,QAAS2E,GAAQb,EAAKc,GACrB/E,KAAKiE,IAAMA,EAAM9D,EAAKoB,MAAMC,KAAKyC,MACjCjE,KAAKgF,sBACLhF,KAAK6D,KAAO,UAsLb,MA1KAiB,GAAQpE,UAAUuE,oBAAsB,SAASlB,KAUjDe,EAAQpE,UAAU6D,OAAS,SAASJ,EAAOC,GACjB,IAArBc,UAAUxC,QACbyB,EAAQnE,KAAKmE,QACbC,EAAgBpE,KAAKoE,eACU,IAArBc,UAAUxC,OACE,gBAAVyB,IACXC,EAAgBc,UAAU,GAC1Bf,EAAQnE,KAAKmE,SAEbC,EAAgBpE,KAAKoE,cAES,IAArBc,UAAUxC,SACpByB,EAAQA,GAASnE,KAAKmE,QACtBC,EAAgBjE,EAAKoB,MAAMG,YAAY0C,GAAiBpE,KAAKoE,cAAgBA,EAG9E,IAAI3B,GAAG0C,EAAMf,EAAgB,EAC7BzC,GACCwC,MAAQA,EACRiB,gBAAkBhB,EAClBiB,eACAC,mBAED,KAAM7C,EAAI,EAAO0C,EAAJ1C,EAASA,IAErBd,EAAI8C,WAAa9C,EAAI8C,WAAazE,KAAKuF,aAAa5D,EAAI8C,WAAY,KAAON,EAC3ExC,EAAI+C,eAAiB1E,KAAKuF,aAAa5D,EAAI8C,WAAY,KAGnDtE,EAAKC,QAAQC,kBAChBsB,EAAI0D,YAAYG,KAAKrF,EAAKoB,MAAMC,KAAKG,EAAI8C,aACzC9C,EAAI2D,gBAAgBE,KAAKrF,EAAKoB,MAAMC,KAAKG,EAAI+C,iBAI/C,OAAO/C,IAMRmD,EAAQpE,UAAU6E,aAAe,SAASE,EAAU5B,GACnD,GAAI6B,MAAgBC,CACpB,KAAMA,EAAI,EAAGA,EAAIF,EAAS/C,OAAQiD,IAAK,CAEtC,GAAIxF,EAAKoB,MAAMG,YAAY+D,EAASE,IACnC,KAAMC,OAAM,sBAIb,IAAIH,EAASE,YAAcxF,GAAKqD,SAASC,IAAIO,WACnC,MAATH,GAAgB6B,EAAUF,KAAKrF,EAAKoB,MAAMC,KAAKiE,EAASE,IAAIpB,WAAamB,EAAUF,KAAKrF,EAAKoB,MAAMC,KAAKiE,EAASE,SAC3G,IAAIF,EAASE,YAAcxF,GAAKqD,SAASC,IAAIkB,MACnDe,EAAUF,KAAK,GAAIrF,GAAKqD,SAASC,IAAIkB,MAAMc,EAASE,GAAGf,MAAOa,EAASE,GAAGd,IAAK7E,KAAKuF,aAAaE,EAASE,GAAG1C,OAAQY,SAC/G,CACN,GAAIE,GAAS0B,EAASE,EACtB3F,MAAKiF,oBAAoBlB,EAAOA,QAChC2B,EAAYA,EAAUG,OAAO7F,KAAK8F,eAAe/B,EAAQF,KAG3D,MAAO6B,IAMRZ,EAAQpE,UAAUoF,eAAiB,SAASC,EAAUC,GACrD,GAAIC,GAAOnB,EAAQoB,SAASH,EAAUC,EAEtC,KAAK7F,EAAKoB,MAAMG,YAAY1B,KAAKmG,MAAMF,IAAQ,CAC9C,GAAIE,GAAQnG,KAAKmG,MAAMF,EAEvB,IAAI9F,EAAKoB,MAAMG,YAAY1B,KAAKgF,mBAAmBiB,IAElD,IADAjG,KAAKgF,mBAAmBiB,GAAQ,EAC1BxD,EAAI,EAAGA,EAAI0D,EAAMzD,OAAQD,IAAK,CACnC,GAAI2D,GAAOD,EAAM1D,EACjBzC,MAAKgF,mBAAmBiB,IAASG,EAAKC,YAGxC,GAAsC,IAAlCrG,KAAKgF,mBAAmBiB,GAAa,CACxC,GAAIK,GAAYC,KAAKC,SAAWxG,KAAKgF,mBAAmBiB,GAAOxD,EAAGgE,EAAM,CAExE,KAAMhE,EAAI,EAAGA,EAAI0D,EAAMzD,OAAQD,IAAK,CACnC,GAAI2D,GAAOD,EAAM1D,EAGjB,IADAgE,GAAOL,EAAKC,YACKI,GAAbH,EACH,MAAOF,GAAKV,UAAUgB,MAAM1G,KAAM+F,EAASb,aAO/C,OAAQa,IAeTjB,EAAQoB,SAAW,SAASpG,EAAQkG,GACnC,GAAIW,GAAO7G,EAAOoF,WAAapF,EAAO8G,WAAcX,EAAO,EAC3D9F,GAAKoB,MAAMG,YAAYsE,KAAeA,EAAW,IAEjD,IAAIvD,EACJ,KAAMA,EAAI,EAAGA,EAAIkE,EAAKjE,OAAQD,IAC7BwD,GAAQ9F,EAAKoB,MAAMG,YAAYiF,EAAKlE,IAAM,EAAI,CAG/C,OAAOuD,GAAW,IAAMC,EAAO,IAAMnG,EAAOiE,QAa7Ce,EAAQ+B,UAAY,SAAS9C,EAAQ4C,EAAMG,GAC1C,OACCA,SAAWA,EACX/C,OAASA,EACTmB,UAAYyB,IAcd7B,EAAQiC,eAAiB,SAAShD,EAAQ6C,EAAQE,GACjD,OACCA,SAAWA,EACX/C,OAASA,EACT6C,OAASA,IAIX9B,EAAQnB,GAAK,GACbmB,EAAQgC,YAEDhC,GAEL3E,MAOHA,KAAKqD,SAASC,IAAIuD,QAAU,WAE3B,QAASA,GAAQ/C,GAChBjE,KAAKiE,IAAM9D,KAAKoB,MAAMC,KAAKyC,GAC3BjE,KAAK6D,KAAO,UAab,MAPAmD,GAAQtG,UAAU6D,OAAS,SAASJ,EAAOC,GAE1C,GAAI6C,GAAM,GAAIjH,MAAKkH,KAAKlH,KAAKiE,IAC7B,OAAOgD,GAAI1C,OAAOJ,GAASnE,KAAKmE,MAAOC,GAAiBpE,KAAKoE,gBAIvD4C,KAYR7G,KAAKqD,SAASC,IAAI0D,WAAa,WAE9B,QAASA,YAAWC,EAASjD,EAAOC,GACnCpE,KAAKoH,QAAUA,EACfpH,KAAKmE,MAAQA,EACbnE,KAAKoE,cAAgBA,EACrBpE,KAAK6D,KAAO,aAgCb,MA7BAsD,YAAWzG,UAAU6D,OAAS,WAE7B,GAAI9D,UAAWN,KAAKI,KAAKQ,EAAEN,UAW3B,OAVA4G,YAAW,WACV,IACC,GAAI1F,KAAM2F,KAAKC,YACf9G,UAASY,QAAQM,KAChB,MAAM6F,KACP/G,SAASU,OAAOqG,OAGf,GAEI/G,SAASO,OAEhB,IAAIF,SAcEqG,cAIThH,KAAKsH,QAAU,SAASC,GACtB,OAAO,GAAIvH,MAAKqD,SAASmE,UAAWF,QAAQC,IAG7CvH,KAAKoE,OAAS,SAASgD,aAGtB,GAAI5F,KAAM2F,KAAKC,YAEf,OAAO5F,MAIRxB,KAAKyH,aAAe,SAAShE,EAASxD,GAErC,GAAIyH,IAAK,GAAIC,OAAOC,SACpB,IAAI5H,MAAK6H,UAAUC,UAAUrE,EAASxD,GAAS8H,MAC/CC,QAAQC,MAAK,GAAIN,OAAOC,UAAYF,GAAI,MAGzC1H,KAAKkI,OAAS,SAASd,GACtB,GAAI9G,GAAWN,KAAKI,KAAKQ,EAAEN,UAmB3B,OAlBA4G,YAAW,WACV,GAAIiB,GAAa,SAASd,GACzB/G,EAASU,OAAOqG,GAEjB,KACC,GAAIhE,GAAW,GAAIrD,MAAKqD,SAASmE,QAEjCnE,GAAS+E,MAAMhB,GAAa5G,KAAK,SAAS6H,GACzChF,EAASiF,QAAQD,GAAK7H,KAAK,SAAS+H,GACnCjI,EAASY,QAAQqH,IACfJ,IACDA,GACF,MAAMK,GACPL,EAAWK,KAGV,GAEIlI,EAASO,SAGjBb,KAAKyI,OAAS"}