{"version":3,"file":"dist/env.min.js","sources":["dist/env.js"],"names":["global","factory","module","exports","this","window","_l2js","l2js","options","keepDerivations","maxDerivedSymbols","files","core","Promise","deferred","prototype","then","successCallback","errorCallback","result","q","promise","catch","Deferred","reject","reason","resolve","value","decimalAdjust","type","exp","Math","isNaN","NaN","toString","split","round10","floor10","ceil10","utils","copy","obj","isUndefined","out","constructor","key","hasProp","hasOwnProperty","extend","child","parent","call","ctor","__super__","indexOf","arr","item","i","length","v","isFunction","functionToCheck","getType","toUpperFirstLetter","string","charAt","toUpperCase","slice","padLeft","str","padChar","normalizeAngle","angle","interval","HSVToRGB","color","h","s","C","X","abs","m","rgb_","r","g","b","model","a","RGBToInt","norm","c","rgba","compiler","env","Alphabet","id","symbols","hasSymbol","symbol","SubLSystem","ctx","lsystem","axiom","maxIterations","maxIteration","undefined","derive","lsystemInst","derivation","interpretation","Stack","start","end","LSystem","opts","rulesProbabilities","checkAlphabetSymbol","arguments","max","totalIterations","derivations","interpretations","deriveString","push","ancestor","successor","j","Error","stats","numberOfDerivedSymbols","concat","findDerivation","toDerive","ruleType","hash","makeHash","rules","rule","probability","threshold","random","sum","apply","args","params","getModule","alphabet","getParamModule","LScript","der","main","SubLScript","lscript","setTimeout","eval","lsystemCode","err","compile","code","Compiler","interpretAll","t1","Date","getTime","interpret","Interpret","all","console","log","format","errHandler","ast","toAST","l2","ASTToL2","e","evolve","numberOfIndividuals","scripts","lsystems","asts","evaluation","evolver","Evolver"],"mappings":"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"}